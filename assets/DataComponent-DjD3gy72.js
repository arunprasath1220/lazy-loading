import{r as t,j as s,s as r}from"./index-DGrFq3Cm.js";function x(){const[i,f]=t.useState([]),[n,l]=t.useState(!1),[h,d]=t.useState(null),a=t.useRef(null),u=async()=>{l(!0),d(null);try{const e=await fetch(`https://openlibrary.org/search.json?q=wisdom&limit=1&page=${i.length+1}`);if(!e.ok)throw new Error("Network error");const o=await e.json();if(o.docs.length>0){const c=o.docs[0];f(m=>[...m,{title:c.title,author:c.author_name?c.author_name.join(", "):"Unknown"}])}}catch(e){d(e.message)}l(!1)};return t.useEffect(()=>{u()},[]),t.useEffect(()=>{const e=new IntersectionObserver(o=>{o[0].isIntersecting&&!n&&u()},{threshold:1});return a.current&&e.observe(a.current),()=>e.disconnect()},[n]),s.jsxs("div",{className:r.container,children:[s.jsx("h2",{className:r.heading,children:"üìö Books & Authors"}),i.map((e,o)=>s.jsxs("div",{className:r.bookCard,children:[s.jsxs("p",{className:r.bookTitle,children:["üìñ ",e.title]}),s.jsxs("p",{className:r.bookAuthor,children:[s.jsx("strong",{children:"‚úç Author:"})," ",e.author]})]},o)),s.jsx("div",{ref:a,className:r.observer}),n&&s.jsx("h3",{className:r.loading,children:"‚è≥ Loading more books..."}),h&&s.jsxs("h3",{className:r.error,children:["‚ùå Error: ",h]})]})}export{x as default};
